<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>ftLog</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" type="text/css" href="css/main.css" />
  <link rel="stylesheet" type="text/css" href="css/normalize.css" />
  <link rel="stylesheet" type="text/css" href="css/ghp.css" />
</head>
<body>
<div class="content">
<h1>ftlog</h1>

<p>The Upax log is an append-only file recording a series of commits.
Each commit line contains at least a timestamp, the SHA3-256 hash of
the file being committed, and the nodeID of the committer.  It may
also contain a POSIX path.  The commit line is CR/LF-terminated.
The hash is guaranteed to be unique to the file and the nodeID is
unique to the committer.  The path may not be unique.</p>

<p>This is a chained log, meaning that the first line in each log file
identifies the preceding log by its hash.  A copy of that log is
present in the data store; on production systems this will normally
be /var/Upax.</p>

<p>The expectation is that the Upax log will normally have two
identical copies, one in memory and one on disk.  The log specifies
the state of the data store.  All Upax servers in a cluster should
share the same log, in the sense that all copies of the log should
be identical.</p>

<p>Data stores may not be identical.  A minimum number of servers
(three if there are at least that many servers, all if fewer) must
have a copy of a data file before it is committed.</p>
  <div class="f">
    <div class="logo" style="text-align: right">
      <a href="http://www.xlattice.org">
      <img src="img/xlattice.batik.jpg" alt="the XLattice Project">
      </a>
    </div>
    <div class="license">
      <p><a href="LICENSE.html">LICENSE</a></p>
    </div>
  </div>
</div>
</body>
</html>
